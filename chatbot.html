<!DOCTYPE html>
<html>
  <head>
    <title>Chat Bot Basics</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev@8.6.4/react.js"></script>
    <script src="https://unpkg.com/supersimpledev@8.6.4/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev@8.6.4/babel.js
    "></script>
    <script type="text/babel">

      function ChatInput() {
        return (
          <>
            <input  
              id="chat-input" 
              placeholder="Send a message to chatbox" 
              size="30" />
            <button>Send</button>
          </>
        );
      }

      // Props are inputs to a React component. Destructuring assignment is used here.
      function ChatMessage({message, sender}) {
      
        const isBot = sender === "bot";

        return (
          <div style={{padding: "10px"}}>
            {isBot && 
              (<img src="bot.png" height="50" width="50" />)}
            {message}
            {!isBot && 
              (<img src="user.png" height="50" width="50" />)}
          </div>
        );
      }

      /*Component are piece of the website
      Chatbot project has 2 component, ChatInput and ChatMessage
      App component is the main component that uses the other 2 components
      props are used to pass data to components
      Destructuring assignment is used to extract props in ChatMessage component
      Guard operators are used to conditionally render elements based on the sender prop
      Const isBot is used to check if the sender is bot or user
*/


      function ChatMessages(){
      const chatMessages = [
            { message: "Hello chatbox!", sender: "user" },
            { message: "Hello! How can I help you today?", sender: "bot" },
            { message: "Can you tell me today's date?", sender: "user" },
            { message: `Today is ${new Date().toDateString()}`, sender: "bot" }
        ];


        return (
          <>{
            chatMessages.map((chat, index) => {
                return (
                  <ChatMessage 
                    key={index} 
                    message={chat.message} 
                    sender={chat.sender} />
                );
            })}
          </>
        );
      }



      function App() {     

        return (
          <>
            <ChatInput /> 
            <ChatMessages />
          </>
        );
      }

      const container = document.querySelector('.js-container');

      ReactDOM.createRoot(container).render(<App />);
      /*
      Fragments (<>)let you group a list 
      of children without adding extra
      nodes to the DOM.
      */
    </script>
  </body>
</html>
